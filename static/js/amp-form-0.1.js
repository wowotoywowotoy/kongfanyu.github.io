(self.AMP=self.AMP||[]).push({n:"amp-form",ev:"0.1",l:true,v:"2103261048002",m:0,f:(function(AMP,_){
'use strict';var m,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}ba(this);"function"===typeof Symbol&&Symbol("x");var ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},ha={};try{ha.__proto__=ea;da=ha.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=ca;
function p(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Za=b.prototype}var ja;function ka(){return ja?ja:ja=Promise.resolve(void 0)};function la(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}};var ma=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function na(a){var b=Object.create(null);if(!a)return b;for(var c;c=ma.exec(a);){var d=la(c[1],c[1]),e=c[2]?la(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var oa=Object.prototype.toString;function pa(a){return a?Array.prototype.slice.call(a):[]};var q=self.AMP_CONFIG||{},qa=("string"==typeof q.cdnProxyRegex?new RegExp(q.cdnProxyRegex):q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ra(a){if(!self.document||!self.document.head||self.location&&qa.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}
var sa={thirdParty:q.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:q.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof q.thirdPartyFrameRegex?new RegExp(q.thirdPartyFrameRegex):q.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:q.cdnUrl||ra("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:qa,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:q.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:q.betaErrorReportingUrl||
"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:q.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:q.geoApiUrl||ra("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ta=self.__AMP_LOG;function r(){if(!ta.user)throw Error("failed to call initLogConstructor");return ta.user}function ua(){if(ta.dev)return ta.dev;throw Error("failed to call initLogConstructor");}function t(a,b,c,d){r().assert(a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};function va(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b}function wa(a){return new Promise(function(b){b(a())})}function xa(){var a,b;this.Ba=new Promise(function(c,d){a=c;b=d});this.Pa=a;this.Na=b;this.la=0}xa.prototype.add=function(a){var b=this,c=++this.la;Promise.resolve(a).then(function(d){b.la===c&&b.Pa(d)},function(d){b.la===c&&b.Na(d)});return this.Ba};xa.prototype.then=function(a,b){return this.Ba.then(a,b)};function u(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return w(a,b)}function x(a,b){var c=A(a);c=B(c);return w(c,b)}function C(a,b){a=A(a);a=B(a);return ya(a,b)?w(a,b):null}function za(a,b){return Aa(B(a),b)}function A(a){return a.nodeType?u((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function B(a){a=A(a);return a.isSingleDoc()?a.win:a}function w(a,b){ya(a,b);a=Ba(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function Ca(a,b){var c=Aa(a,b);if(c)return c;a=Ba(a);a[b]=Da();return a[b].promise}function Aa(a,b){var c=Ba(a)[b];if(c){if(c.promise)return c.promise;w(a,b);return c.promise=Promise.resolve(c.obj)}return null}function Ba(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function ya(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}
function Da(){var a=new va,b=a.promise,c=a.resolve;a=a.reject;b.catch(function(){});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var Ea=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function Fa(a,b,c,d,e){return e?e:b?"\ufffd":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a};var Ga;var Ha=Object.prototype.hasOwnProperty;function E(){return Object.create(null)}function F(a){return a||{}}
function Ia(a,b){var c=[],d=[];d.push({t:a,s:b,d:0});for(a={};0<d.length;){b=d.shift();a.K=b.t;a.G=b.s;a.ba=b.d;if(c.includes(a.G))throw Error("Source object has a circular reference.");c.push(a.G);a.K!==a.G&&(10<a.ba?Object.assign(a.K,a.G):Object.keys(a.G).forEach(function(e){return function(f){var g=e.G[f];if(Ha.call(e.K,f)){var h=e.K[f];if("[object Object]"===oa.call(g)&&"[object Object]"===oa.call(h)){d.push({t:h,s:g,d:e.ba+1});return}}e.K[f]=g}}(a)));a={G:a.G,K:a.K,ba:a.ba}}};function Ja(a,b){for(var c=[],d=a.parentElement;d;d=d.parentElement)b(d)&&c.push(d);return c}function Ka(a){var b="fieldset";/^[\w-]+$/.test(b);b=b.toUpperCase();return Ja(a,function(c){return c.tagName==b})}function G(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function La(a,b,c){var d=za(a,b);if(d)return d;var e=A(a);return e.whenExtensionsKnown().then(function(){var f=e.getExtensionVersion(c);return f?u(e.win,"extensions").waitForExtension(c,f):null}).then(function(f){return f?Ca(B(a),b):null})};function H(a){return x(a,"mutator")};var Ma,Na="Webkit webkit Moz moz ms O o".split(" ");function Oa(a,b,c){var d=a.style;if(!b.startsWith("--")){Ma||(Ma=E());var e=Ma[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var g=0;g<Na.length;g++){var h=Na[g]+f;if(void 0!==d[h]){f=h;break b}}f=""}void 0!==d[f]&&(e=f)}Ma[b]=e}b=e}b&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function Pa(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};var I;function Qa(a,b,c){var d=a,e=c;var f=function(h){try{return e(h)}catch(k){throw self.__AMP_REPORT_ERROR(k),k;}};var g=Ra();d.addEventListener(b,f,g?void 0:!1);return function(){d&&d.removeEventListener(b,f,g?void 0:!1);f=d=e=null}}function Ra(){if(void 0!==I)return I;I=!1;try{var a={get capture(){I=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return I};function Sa(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function Ta(a,b,c){return Qa(a,b,c)}function Ua(a,b){var c=b,d=Qa(a,"mouseup",function(e){try{c(e)}finally{c=null,d()}});return d}function Va(a){var b,c=new Promise(function(d){b=Ua(a,d)});c.then(b,b);return c};function Wa(a,b){function c(g){f=null;e=a.setTimeout(d,100);b.apply(null,g)}function d(){e=0;f&&c(f)}var e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e?f=h:c(h)}};function Xa(a){var b=a.getRootNode();this.W=b.ownerDocument||b;this.j=this.W.defaultView;this.ta=x(a,"viewport");this.Y=[];this.Y.push(Ta(b,"input",function(e){e=e.target;"TEXTAREA"==e.tagName&&e.hasAttribute("autoexpand")&&Ya(e)}));this.Y.push(Ta(b,"mousedown",function(e){1==e.which&&(e=e.target,"TEXTAREA"==e.tagName&&Za(e))}));var c=b.querySelectorAll("textarea");this.Y.push(Ta(b,"amp:dom-update",function(){c=b.querySelectorAll("textarea")}));var d=Wa(this.j,function(e){e.relayoutAll&&$a(c)});this.Y.push(this.ta.onResize(d));
ab(c)}function bb(a){function b(){var e=c.querySelector("textarea[autoexpand]");e&&!d?d=new Xa(a):!e&&d&&(d.dispose(),d=null)}var c=a.getRootNode(),d=null;Qa(c,"amp:dom-update",b);b()}Xa.prototype.dispose=function(){this.Y.forEach(function(a){return a()})};
function ab(a){Promise.all(pa(a).map(function(b){return cb(b).then(function(c){c&&(r().warn("AMP-FORM",'"textarea[autoexpand]" with initially scrolling content will not autoexpand.\nSee https://github.com/ampproject/amphtml/issues/20839'),b.removeAttribute("autoexpand"))})}))}function cb(a){return H(a).measureElement(function(){return a.scrollHeight>a.clientHeight})}function $a(a){G(a,function(b){"TEXTAREA"==b.tagName&&b.hasAttribute("autoexpand")&&Ya(b)})}
function Za(a){var b=H(a);Promise.all([b.measureElement(function(){return a.scrollHeight}),Va(a)]).then(function(c){var d=c[0],e=0;return b.measureMutateElement(a,function(){e=a.scrollHeight},function(){d!=e&&a.removeAttribute("autoexpand")})})}
function Ya(a){var b=H(a),c=a.ownerDocument.defaultView,d=0,e=0,f=0,g=db(a);b.measureMutateElement(a,function(){var h=c.getComputedStyle(a)||E();e=a.scrollHeight;var k=parseInt(h.getPropertyValue("max-height"),10);f=isNaN(k)?Infinity:k;d="content-box"==h.getPropertyValue("box-sizing")?-parseInt(h.getPropertyValue("padding-top"),10)+-parseInt(h.getPropertyValue("padding-bottom"),10):parseInt(h.getPropertyValue("border-top-width"),10)+parseInt(h.getPropertyValue("border-bottom-width"),10)},function(){return g.then(function(h){a.classList.toggle("i-amphtml-textarea-max",
h+d>f);var k="iAmphtmlHasExpanded"in a.dataset,l=/google/i.test(c.navigator.vendor)?3:0;if(k||e<=h+l)a.dataset.iAmphtmlHasExpanded="",Oa(a,"height",h+d+"px")})})}
function db(a){var b=a.ownerDocument,c=b.defaultView,d=b.body,e=H(a),f=a.cloneNode(!1);f.classList.add("i-amphtml-textarea-clone");var g=0,h=0,k=!1;return e.measureMutateElement(d,function(){var l=c.getComputedStyle(a)||E(),n=parseInt(l.getPropertyValue("max-height"),10);g=parseInt(l.getPropertyValue("width"),10);k=isNaN(n)||a.scrollHeight<n},function(){k&&(a.scrollTop=0);Oa(f,"width",g+"px");b.body.appendChild(f)}).then(function(){return e.measureMutateElement(d,function(){h=f.scrollHeight},function(){f.parentElement&&
f.parentElement.removeChild(f)})}).then(function(){return h})};function J(a){for(var b=a.elements,c={},d=/^(?:input|select|textarea)$/i,e=/^(?:submit|button|image|file|reset)$/i,f=/^(?:checkbox|radio)$/i,g={},h=0;h<b.length;g={J:g.J},h++){var k=b[h],l=k,n=l.checked;g.J=l.name;var v=l.multiple,M=l.options,y=l.tagName,D=l.type;l=l.value;!g.J||fb(k)||!d.test(y)||e.test(D)||f.test(D)&&!n||(void 0===c[g.J]&&(c[g.J]=[]),v?G(M,function(fa){return function(eb){eb.selected&&c[fa.J].push(eb.value)}}(g)):c[g.J].push(l))}var z=gb(a);z&&z.name&&(a=z.name,void 0===c[a]&&(c[a]=
[]),c[z.name].push(z.value));Object.keys(c).forEach(function(fa){0==c[fa].length&&delete c[fa]});return c}function gb(a){var b=a.elements,c=b.length,d=a.ownerDocument.activeElement,e=null;for(a=0;a<c;a++){var f=b[a],g=f.type;if("BUTTON"==f.tagName||"submit"==g)if(e||(e=f),d==f)return d}return e}function fb(a){if(a.disabled)return!0;a=Ka(a);for(var b=0;b<a.length;b++)if(a[b].disabled)return!0;return!1}
function hb(a){switch(a.type){case "select-multiple":case "select-one":a=a.options;for(var b=0;b<a.length;b++)if(a[b].selected!==a[b].defaultSelected)return!1;break;case "checkbox":case "radio":return a.checked===a.defaultChecked;default:return a.value===a.defaultValue}return!0};function ib(a,b){return a.hasAttribute("verify-xhr")?new jb(a,b):new kb(a)}function K(a){this.h=a}K.prototype.onCommit=function(){lb(this);a:{var a=this.h.elements;for(var b=0;b<a.length;b++){var c=a[b];if(!c.disabled&&!hb(c)){a=!0;break a}}a=!1}return a?this.Ea():Promise.resolve({updatedElements:[],errors:[]})};K.prototype.Ea=function(){return Promise.resolve({updatedElements:[],errors:[]})};function lb(a){(a=a.h.elements)&&G(a,function(b){b.setCustomValidity("")})}
function kb(){K.apply(this,arguments)}p(kb,K);function jb(a,b){this.h=a;this.fa=b;this.aa=null;this.Aa=[]}p(jb,K);jb.prototype.Ea=function(){var a=this,b=this.fa().then(function(){return[]},function(c){return mb(c)});return nb(this,b).then(function(c){return ob(a,c)})};function nb(a,b){if(!a.aa){a.aa=new xa;var c=function(){return a.aa=null};a.aa.then(c,c)}return a.aa.add(b)}
function ob(a,b){var c=[],d=a.Aa;a.Aa=b;for(var e=0;e<b.length;e++){var f=b[e],g=r().assertString(f.name,"Verification errors must have a name property");f=r().assertString(f.message,"Verification errors must have a message property");g=r().assertElement(a.h.querySelector('[name="'+g+'"]'),"Verification error name property must match a field name");g.checkValidity()&&(g.setCustomValidity(f),c.push(g))}var h=d.filter(function(k){return b.every(function(l){return k.name!==l.name})}).map(function(k){return a.h.querySelector('[name="'+
k.name+'"]')});return{updatedElements:c.concat(h),errors:b}}function mb(a){return(a=a.response)?a.json().then(function(b){return b.verifyErrors||[]},function(){return[]}):Promise.resolve([])};function pb(a,b){var c=u(a,"platform");return c.isIos()&&11==c.getMajorVersion()?new qb(b):FormData.prototype.entries&&FormData.prototype.delete?new L(b):new N(b)}function N(a){this.H=a?J(a):E()}N.prototype.append=function(a,b){var c=String(a);this.H[c]=this.H[c]||[];this.H[c].push(String(b))};N.prototype.delete=function(a){delete this.H[a]};
N.prototype.entries=function(){var a=this,b=[];Object.keys(this.H).forEach(function(d){a.H[d].forEach(function(e){return b.push([d,e])})});var c=0;return{next:function(){return c<b.length?{value:b[c++],done:!1}:{value:void 0,done:!0}}}};N.prototype.getFormData=function(){var a=this,b=new FormData;Object.keys(this.H).forEach(function(c){a.H[c].forEach(function(d){return b.append(c,d)})});return b};function L(a){this.I=new FormData(a);a&&(a=gb(a))&&a.name&&this.append(a.name,a.value)}
L.prototype.append=function(a,b){this.I.append(a,b)};L.prototype.delete=function(a){this.I.delete(a)};L.prototype.entries=function(){return this.I.entries()};L.prototype.getFormData=function(){return this.I};function qb(a){L.call(this,a);var b=this;a&&G(a.elements,function(c){"file"==c.type&&0==c.files.length&&(b.I.delete(c.name),b.I.append(c.name,new Blob([]),""))})}p(qb,L);
qb.prototype.append=function(a,b,c){b&&"object"==typeof b&&""==b.name&&0==b.size?this.I.append(a,new Blob([]),c||""):this.I.append(a,b)};var rb={INPUT:!0,SELECT:!0,TEXTAREA:!0};function sb(a,b){this.h=a;this.j=b;this.V=0;this.O=E();this.sa=null;this.Ga=this.ha=!1;this.qa();for(a=0;a<this.h.elements.length;++a)tb(this,this.h.elements[a]);O(this)}m=sb.prototype;m.onSubmitting=function(){this.ha=!0;O(this)};m.onSubmitError=function(){this.ha=!1;O(this)};m.onSubmitSuccess=function(){this.ha=!1;this.sa=pb(this.j,this.h).getFormData();this.O=E();this.V=0;O(this)};
function O(a){var b=0<a.V&&!a.ha;if(b!==a.Ga){a.h.classList.toggle("amp-form-dirty",b);var c=Sa(a.j,"amp:form-dirtiness-change",F({isDirty:b}),{bubbles:!0});a.h.dispatchEvent(c)}a.Ga=b}m.qa=function(){this.h.addEventListener("input",this.za.bind(this));this.h.addEventListener("reset",this.Ma.bind(this));this.h.addEventListener("amp:form-value-change",this.za.bind(this))};m.za=function(a){tb(this,a.target);O(this)};m.Ma=function(){this.O=E();this.V=0;O(this)};
function tb(a,b){var c=b.hidden;if(rb[b.tagName]&&b.name&&!c&&!fb(b)){a:switch(b.tagName){case "INPUT":c="checkbox"==b.type||"radio"==b.type?!b.checked:!b.value;break a;case "TEXTAREA":c=!b.value;break a;case "SELECT":c=!1;break a;default:throw Error("isFieldEmpty: "+b.tagName+" is not a supported field element.");}(c=c||hb(b))||(a.sa?(c=b.value,c=a.sa.get(b.name)===c):c=!1);c?(b=b.name,a.O[b]&&(a.O[b]=!1,--a.V)):(b=b.name,a.O[b]||(a.O[b]=!0,++a.V))}};function ub(){this.B=null}m=ub.prototype;m.add=function(a){var b=this;this.B||(this.B=[]);this.B.push(a);return function(){b.remove(a)}};m.remove=function(a){this.B&&(a=this.B.indexOf(a),-1<a&&this.B.splice(a,1))};m.removeAll=function(){this.B&&(this.B.length=0)};m.fire=function(a){if(this.B)for(var b=this.B,c=0;c<b.length;c++)(0,b[c])(a)};m.getHandlerCount=function(){return this.B?this.B.length:0};function vb(){this.ya=new ub}vb.prototype.beforeSubmit=function(a){return this.ya.add(a)};vb.prototype.fire=function(a){this.ya.fire(a)};function wb(){this.Ja=100;this.ka=this.ra=0;this.da=Object.create(null)}wb.prototype.has=function(a){return!!this.da[a]};wb.prototype.get=function(a){var b=this.da[a];if(b)return b.access=++this.ka,b.payload};wb.prototype.put=function(a,b){this.has(a)||this.ra++;this.da[a]={payload:b,access:this.ka};if(!(this.ra<=this.Ja)){ua().warn("lru-cache","Trimming LRU cache");a=this.da;var c=this.ka+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.ra--)}};var xb=F({c:!0,v:!0,a:!0,ad:!0}),yb,zb,Ab=/[?&]amp_js[^&]*/,Bb=/[?&]amp_gsa[^&]*/,Cb=/[?&]amp_r[^&]*/,Db=/[?&]amp_kit[^&]*/,Eb=/[?&]usqp[^&]*/;
function P(a){yb||(yb=self.document.createElement("a"),zb=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new wb));var b=zb,c=yb;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=
c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}function Fb(a,b,c){if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}
function Gb(a){var b=[],c;for(c in a){var d=a[c];if(null!=d)if(Array.isArray(d))for(var e=0;e<d.length;e++){var f=d[e];b.push(encodeURIComponent(c)+"="+encodeURIComponent(f))}else e=d,b.push(encodeURIComponent(c)+"="+encodeURIComponent(e))}return b.join("&")}function Hb(a){"string"==typeof a&&(a=P(a));return sa.cdnProxyRegex.test(a.origin)};var Ib=["GET","POST"];function Q(a,b){this.P=a;this.F=b;this.Qa="amp-form"}Q.prototype.isEnabled=function(){var a=this.P.getAmpDoc();return a.isSingleDoc()&&a.getRootNode().documentElement.hasAttribute("allow-viewer-render-template")?this.P.hasCapability("viewerRenderTemplate"):!1};Q.prototype.assertTrustedViewer=function(a){return this.P.isTrustedViewer().then(function(b){t(b,"Refused to attempt SSR in untrusted viewer: ",a)})};
Q.prototype.ssr=function(a,b,c,d){var e=this;c=void 0===c?null:c;d=void 0===d?{}:d;var f=c,g=d,h;f||(h=this.F.maybeFindTemplate(a));return this.assertTrustedViewer(a).then(function(){var k=e.P,l=k.sendMessageAwaitResponse,n=h;var v=g;var M=v=void 0===v?{}:v;v=F({type:e.Qa});(n=f&&f.successTemplate?f.successTemplate:n)&&(v.successTemplate={type:"amp-mustache",payload:n.innerHTML});(n=f&&f.errorTemplate?f.errorTemplate:null)&&(v.errorTemplate={type:"amp-mustache",payload:n.innerHTML});M&&Object.assign(v,
M);M=b.xhrUrl;var y=b.fetchOpt;n=Object.assign({},y);var D=y.body;if(D&&"function"==typeof D.getFormData){y=y.body;n.headers["Content-Type"]="multipart/form-data;charset=utf-8";y=y.entries();D=[];for(var z=y.next();!z.done;z=y.next())D.push(z.value);n.body=D}v=F({originalRequest:{input:M,init:n},ampComponent:v});return l.call(k,"viewerRenderTemplate",v)})};
Q.prototype.applySsrOrCsrTemplate=function(a,b){var c=this;if(this.isEnabled()){t("string"===typeof b.html,"Server side html response must be defined");var d=this.assertTrustedViewer(a).then(function(){return c.F.findAndSetHtmlForTemplate(a,b.html)})}else d=Array.isArray(b)?this.F.findAndRenderTemplateArray(a,b):this.F.findAndRenderTemplate(a,b);return d};function Jb(a,b){this.pa=b;this.ta=x(a,"viewport");this.Fa=u(a.win,"vsync");this.na=null;this.ma="";this.ia=!1;this.N=a.win.document.createElement("div");Pa(this.N,!1);this.N.classList.add("i-amphtml-validation-bubble");this.N.__BUBBLE_OBJ=this;a.getBody().appendChild(this.N)}Jb.prototype.isActiveOn=function(a){return this.ia&&a==this.na};Jb.prototype.hide=function(){this.ia&&(this.ia=!1,this.na=null,this.ma="",this.Fa.run({measure:void 0,mutate:Kb},{bubbleElement:this.N}))};
Jb.prototype.show=function(a,b){this.isActiveOn(a)&&b==this.ma||(this.ia=!0,this.na=a,this.ma=b,this.Fa.run({measure:Lb,mutate:Mb},{message:b,targetElement:a,bubbleElement:this.N,viewport:this.ta,id:this.pa}))};function Kb(a){a.bubbleElement.removeAttribute("aria-alert");a.bubbleElement.removeAttribute("role");for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);Pa(a.bubbleElement,!1)}function Lb(a){a.targetRect=a.viewport.getLayoutRect(a.targetElement)}
function Mb(a){for(var b=a.bubbleElement;b.firstChild;)b.removeChild(b.firstChild);var c=a.bubbleElement.ownerDocument.createElement("div");c.id="bubble-message-"+a.id;c.textContent=a.message;a.bubbleElement.setAttribute("aria-labeledby",c.id);a.bubbleElement.setAttribute("role","alert");a.bubbleElement.setAttribute("aria-live","assertive");a.bubbleElement.appendChild(c);Pa(a.bubbleElement,!0);b=a.bubbleElement;a={top:a.targetRect.top-10+"px",left:a.targetRect.left+a.targetRect.width/2+"px"};for(var d in a)Oa(b,
d,a[d])};var Nb,Ob,Pb=0;function R(a){this.form=a;this.ampdoc=A(a);this.mutator=H(a);this.root=this.ampdoc.getRootNode();this.ga=null}m=R.prototype;m.report=function(){};m.onBlur=function(){};m.onInput=function(){};m.inputs=function(){return this.form.querySelectorAll("input,select,textarea")};
m.checkInputValidity=function(a){if("TEXTAREA"===a.tagName&&a.hasAttribute("pattern")&&(a.checkValidity()||"Please match the requested format."===a.validationMessage)){var b=a.getAttribute("pattern"),c=(new RegExp("^"+b+"$","m")).test(a.value);a.setCustomValidity(c?"":"Please match the requested format.")}return a.checkValidity()};m.checkFormValidity=function(a){Qb(this,a);return a.checkValidity()};m.reportFormValidity=function(a){Qb(this,a);return a.reportValidity()};
function Qb(a,b){G(b.elements,function(c){"TEXTAREA"==c.tagName&&a.checkInputValidity(c)})}m.fireValidityEventIfNecessary=function(){var a=this.ga;this.ga=this.checkFormValidity(this.form);if(a!==this.ga){var b=Sa(this.form.ownerDocument.defaultView,this.ga?"valid":"invalid",null,{bubbles:!0});this.form.dispatchEvent(b)}};function Rb(){R.apply(this,arguments)}p(Rb,R);Rb.prototype.report=function(){this.reportFormValidity(this.form);this.fireValidityEventIfNecessary()};
function S(a){R.call(this,a);var b="i-amphtml-validation-bubble-"+Pb++;this.Z=new Jb(this.ampdoc,b)}p(S,R);S.prototype.report=function(){for(var a=this.inputs(),b=0;b<a.length;b++)if(!this.checkInputValidity(a[b])){a[b].focus();this.Z.show(a[b],a[b].validationMessage);break}this.fireValidityEventIfNecessary()};S.prototype.onBlur=function(a){"submit"!=a.target.type&&this.Z.hide()};
S.prototype.onInput=function(a){a=a.target;this.Z.isActiveOn(a)&&(this.checkInputValidity(a)?(a.removeAttribute("aria-invalid"),this.Z.hide()):(a.setAttribute("aria-invalid","true"),this.Z.show(a,a.validationMessage)))};function T(a){R.call(this,a);this.Ta=this.form.id?this.form.id:String(Date.now()+Math.floor(100*Math.random()));this.Ia=0}p(T,R);m=T.prototype;m.reportInput=function(a){var b=Sb(a);b&&this.showValidationFor(a,b)};m.hideAllValidations=function(){for(var a=this.inputs(),b=0;b<a.length;b++)this.hideValidationFor(a[b])};
m.getValidationFor=function(a,b){if(!a.id)return null;var c=a.validationMessage;c="TEXTAREA"===a.tagName&&"customError"===b&&"Please match the requested format."===c?"patternMismatch":b;var d="__AMP_VALIDATION_"+c;d in a||(a[d]=this.root.querySelector("[visible-when-invalid="+c+"][validation-for="+(a.id+"]")));return a[d]};
m.showValidationFor=function(a,b){var c=this.getValidationFor(a,b);if(c){c.textContent.trim()||(c.textContent=a.validationMessage);a.__AMP_VISIBLE_VALIDATION=c;var d=c.getAttribute("id");d||(d="i-amphtml-aria-desc-"+this.Ta+"-"+this.Ia++,c.setAttribute("id",d));a.setAttribute("aria-invalid","true");a.setAttribute("aria-describedby",d);this.mutator.mutateElement(c,function(){return c.classList.add("visible")})}};
m.hideValidationFor=function(a){var b=this.getVisibleValidationFor(a);b&&(delete a.__AMP_VISIBLE_VALIDATION,a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),this.mutator.mutateElement(b,function(){return b.classList.remove("visible")}))};m.getVisibleValidationFor=function(a){return a.__AMP_VISIBLE_VALIDATION};m.shouldValidateOnInteraction=function(){throw Error("Not Implemented");};
m.onInteraction=function(a){a=a.target;var b=!!a.checkValidity&&this.shouldValidateOnInteraction(a);this.hideValidationFor(a);b&&!this.checkInputValidity(a)&&this.reportInput(a)};m.onBlur=function(a){this.onInteraction(a)};m.onInput=function(a){this.onInteraction(a)};function Tb(){T.apply(this,arguments)}p(Tb,T);Tb.prototype.report=function(){this.hideAllValidations();for(var a=this.inputs(),b=0;b<a.length;b++)if(!this.checkInputValidity(a[b])){this.reportInput(a[b]);a[b].focus();break}this.fireValidityEventIfNecessary()};
Tb.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function U(){T.apply(this,arguments)}p(U,T);U.prototype.report=function(){this.hideAllValidations();for(var a=null,b=this.inputs(),c=0;c<b.length;c++)this.checkInputValidity(b[c])||(a=a||b[c],this.reportInput(b[c]));a&&a.focus();this.fireValidityEventIfNecessary()};U.prototype.shouldValidateOnInteraction=function(a){return!!this.getVisibleValidationFor(a)};function Ub(){T.apply(this,arguments)}p(Ub,T);
Ub.prototype.shouldValidateOnInteraction=function(){return!0};Ub.prototype.onInteraction=function(a){T.prototype.onInteraction.call(this,a);this.fireValidityEventIfNecessary()};function Vb(){U.apply(this,arguments)}p(Vb,U);Vb.prototype.shouldValidateOnInteraction=function(){return!0};Vb.prototype.onInteraction=function(a){U.prototype.onInteraction.call(this,a);this.fireValidityEventIfNecessary()};
function Wb(a){switch(a.getAttribute("custom-validation-reporting")){case "as-you-go":return new Ub(a);case "show-all-on-submit":return new U(a);case "interact-and-submit":return new Vb(a);case "show-first-on-submit":return new Tb(a)}a.ownerDocument&&void 0===Nb&&(Nb=!!document.createElement("form").reportValidity);return Nb?new Rb(a):new S(a)}
function Sb(a){var b=["badInput"];for(c in a.validity)b.includes(c)||b.push(c);var c=b.filter(function(d){return!0===a.validity[d]});return c.length?c[0]:null};function Xb(a){var b=a.ownerDocument.defaultView;b.FormProxy||(b.FormProxy=Yb(b));var c=new b.FormProxy(a);"action"in c||Zb(a,c);a.$p=c}
function Yb(a){function b(f){this.h=f}var c=b.prototype,d=a.Object,e=d.prototype;[a.HTMLFormElement,a.EventTarget].reduce(function(f,g){for(g=g&&g.prototype;g&&g!==e&&!(0<=f.indexOf(g));)f.push(g),g=d.getPrototypeOf(g);return f},[]).forEach(function(f){var g={},h;for(h in f){g.D=a.Object.getOwnPropertyDescriptor(f,h);if(g.D&&h.toUpperCase()!=h&&!h.startsWith("on")&&!e.hasOwnProperty.call(c,h))if("function"==typeof g.D.value)g.ja=g.D.value,c[h]=function(l){return function(){return l.ja.apply(this.h,
arguments)}}(g);else{var k={};g.D.get&&(k.get=function(l){return function(){return l.D.get.call(this.h)}}(g));g.D.set&&(k.set=function(l){return function(n){return l.D.set.call(this.h,n)}}(g));a.Object.defineProperty(c,h,k)}g={ja:g.ja,D:g.D}}});return b}
function Zb(a,b){var c=a.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call(a,!1),d={},e;for(e in c){d.o=e;if(!(d.o in b||d.o.toUpperCase()==d.o||d.o.startsWith("on"))){d.A=$b[d.o];var f=a[d.o];if(d.A)if(d.A.access==V){d.S=void 0;if(f&&f.nodeType){var g=c=f,h=g.nextSibling;g=g.parentNode;g.removeChild(c);try{d.S=a[d.o]}finally{g.insertBefore(c,h)}}else d.S=f;Object.defineProperty(b,d.o,{get:function(k){return function(){return k.S}}(d)})}else d.A.access==W&&(d.T=d.A.attr||d.o,Object.defineProperty(b,
d.o,{get:function(k){return function(){var l=b.getAttribute(k.T);return null==l&&void 0!==k.A.def?k.A.def:k.A.type==ac?"true"===l:k.A.type==bc?null!=l:k.A.type==cc?(l=l||"",C(a,"url").parse(l).href):l}}(d),set:function(k){return function(l){k.A.type==bc&&(l=l?"":null);null!=l?b.setAttribute(k.T,l):b.removeAttribute(k.T)}}(d)}));else Object.defineProperty(b,d.o,{get:function(k){return function(){return a[k.o]}}(d),set:function(k){return function(l){a[k.o]=l}}(d)})}d={S:d.S,T:d.T,A:d.A,o:d.o}}}
var W=1,V=2,cc=1,ac=2,bc=3,$b={acceptCharset:{access:W,attr:"accept-charset"},accessKey:{access:W,attr:"accesskey"},action:{access:W,type:cc},attributes:{access:V},autocomplete:{access:W,def:"on"},children:{access:V},dataset:{access:V},dir:{access:W},draggable:{access:W,type:ac,def:!1},elements:{access:V},encoding:{access:V},enctype:{access:W},hidden:{access:W,type:bc,def:!1},id:{access:W,def:""},lang:{access:W},localName:{access:V},method:{access:W,def:"get"},name:{access:W},noValidate:{access:W,
attr:"novalidate",type:bc,def:!1},prefix:{access:V},spellcheck:{access:W},style:{access:V},target:{access:W,def:""},title:{access:W},translate:{access:W}};function dc(a,b){var c=a.getHeadNode(),d=ec(c,fc(c));if(b){var e=a.getRootNode();if(gc(e,d))b(d);else var f=setInterval(function(){gc(e,d)&&(clearInterval(f),b(d))},4)}}
function ec(a,b){var c=a.__AMP_CSS_SM;c||(c=a.__AMP_CSS_SM=E());var d=hc(a,c,"amp-extension=amp-form");if(d)return d.textContent!==b&&(d.textContent=b),d;var e=(a.ownerDocument||a).createElement("style");e.textContent=b;var f=null;e.setAttribute("amp-extension","amp-form");b=f=hc(a,c,"amp-runtime");(b=void 0===b?null:b)?a.insertBefore(e,b.nextSibling):a.insertBefore(e,a.firstChild);return c["amp-extension=amp-form"]=e}
function hc(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}
function fc(a){return(a=a.__AMP_CSS_TR)?a('form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/'):'form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/'}
function gc(a,b){var c=a.styleSheets;for(a=0;a<c.length;a++)if(c[a].ownerNode==b)return!0;return!1};function ic(a){var b=a.documentElement;return["\u26a14email","amp4email"].some(function(c){return b.hasAttribute(c)})};function jc(a,b,c){c=void 0===c?{}:c;var d=void 0===d?!0:d;var e=c;La(a,"amp-analytics-instrumentation","amp-analytics").then(function(f){f&&f.triggerEventForTarget(a,b,e,d)})};function kc(a,b){try{return JSON.parse(a)}catch(c){return b&&b(c),null}};var lc=["amp-selector"];
function mc(a,b){var c=this;try{Xb(a)}catch(f){ua().error("amp-form","form proxy failed to install",f)}a.__AMP_FORM=this;this.pa=b;this.W=a.ownerDocument;this.j=this.W.defaultView;this.Sa=w(this.j,"timer");this.h=a;this.C=A(this.h);this.oa=null;this.Da=C(this.C,"url-replace");this.F=x(this.C,"templates");this.ua=u(this.j,"xhr");this.U=C(this.C,"action");this.xa=H(this.C);this.P=x(this.C,"viewer");this.X=new Q(this.P,this.F);this.L=(this.h.getAttribute("method")||"GET").toUpperCase();this.Ra=this.h.getAttribute("target");
this.R=nc(this,"action-xhr");this.Xa=nc(this,"verify-xhr");this.Ka=oc(this);this.Ca=!this.h.hasAttribute("novalidate");this.h.setAttribute("novalidate","");this.Ca||this.h.setAttribute("amp-novalidate","");this.h.classList.add("i-amphtml-form");this.M="initial";b=this.h.elements;for(var d=0;d<b.length;d++){var e=b[d].name;t("__amp_source_origin"!=e&&"__amp_form_verify"!=e,"Illegal input name, %s found: %s",e,b[d])}this.ea=new sb(this.h,this.j);this.$=Wb(this.h);this.Ua=ib(this.h,function(){return pc(c)});
this.U.addToAllowlist("FORM",["clear","submit"],["email"]);this.U.installActionHandler(this.h,this.Ha.bind(this));this.qa();qc(this);rc(this);this.va=this.Oa=this.Wa=null;Ca(B(a),"form-submit-service").then(function(f){c.va=f});this.La=this.W&&ic(this.W)}function nc(a,b){var c=a.h.getAttribute(b);if(c){var d=C(a.C,"url");d.assertHttpsUrl(c,a.h,b);t(!d.isProxyOrigin(c),"form %s should not be on AMP CDN: %s",b,a.h)}return c}
function oc(a){var b=a.h.getAttribute("enctype");if("application/x-www-form-urlencoded"===b||"multipart/form-data"===b)return b;null!==b&&r().warn("amp-form","Unexpected enctype: "+b+". Defaulting to 'multipart/form-data'.");return"multipart/form-data"}m=mc.prototype;m.getXssiPrefix=function(){return this.h.getAttribute("xssi-prefix")};
m.requestForFormFetch=function(a,b,c,d){var e=F({Accept:"application/json"});if("GET"==b||"HEAD"==b){sc(this);var f=J(this.h);d&&d.forEach(function(l){return delete f[l]});c&&Ia(f,c);var g=Fb(a,Gb(f))}else{g=a;if("application/x-www-form-urlencoded"===this.Ka){var h=Gb(J(this.h));e=F({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"})}else h=pb(this.j,this.h);d&&d.forEach(function(l){return h.delete(l)});for(var k in c)h.append(k,c[k])}return{xhrUrl:g,fetchOpt:F({body:h,
method:b,credentials:"include",headers:e})}};m.setXhrAction=function(a){this.R=a};m.Ha=function(a){var b=this;if(!a.satisfiesTrust(2))return null;if("submit"==a.method)return tc(this).then(function(){return"submitting"!=b.M&&uc(b)?vc(b,a.trust,null):Promise.resolve(null)});"clear"===a.method&&wc(this);return null};function tc(a){if(a.oa)return a.oa;var b=a.h.querySelectorAll(lc.join(",")),c=pa(b).map(function(d){return d.build()});return a.oa=xc(a,c,2E3)}
m.qa=function(){var a=this;this.C.whenNextVisible().then(function(){var b=a.h.querySelector("[autofocus]");if(b)try{b.focus()}catch(c){}});this.h.addEventListener("submit",this.wa.bind(this),!0);this.h.addEventListener("blur",function(b){yc(b.target);a.$.onBlur(b)},!0);this.h.addEventListener("amp:form-value-change",function(b){yc(b.target);a.$.onInput(b)},!0);this.X.isEnabled()||this.h.addEventListener("change",function(b){a.Ua.onCommit().then(function(c){var d=c.errors;c.updatedElements.forEach(yc);
a.$.onBlur(b);"verifying"===a.M&&(d.length?(X(a,"verify-error"),Y(a,F({verifyErrors:d})).then(function(){zc(a,"verify-error",d,2)})):X(a,"initial"))})});this.h.addEventListener("input",function(b){yc(b.target);a.$.onInput(b)})};function qc(a){La(a.C,"inputmask","amp-inputmask").then(function(b){b&&b.install()})}
function Ac(a,b){Bc(a,"Form analytics not supported");var c=F({}),d=J(a.h),e;for(e in d)Object.prototype.hasOwnProperty.call(d,e)&&(c["formFields["+e+"]"]=d[e].join(","));c.formId=a.h.id;try{jc(a.h,b,c)}catch(f){ua().error("amp-form","Sending analytics failed:",f)}}
function wc(a){a.h.reset();X(a,"initial");a.h.classList.remove("user-valid");a.h.classList.remove("user-invalid");var b=a.h.querySelectorAll(".user-valid, .user-invalid");G(b,function(d){d.classList.remove("user-valid");d.classList.remove("user-invalid")});var c=a.h.querySelectorAll(".visible[validation-for]");G(c,function(d){d.classList.remove("visible")});Cc(a.h)}
m.wa=function(a){if("submitting"==this.M||!uc(this))return a.stopImmediatePropagation(),a.preventDefault(),Promise.resolve(null);(this.R||"POST"==this.L)&&a.preventDefault();return vc(this,3,a)};
function vc(a,b,c){try{var d={form:a.h,actionXhrMutator:a.setXhrAction.bind(a)};a.va.fire(d)}catch(k){ua().error("amp-form","Form submit service failed: %s",k)}var e=Dc(a),f=a.h.getElementsByClassName("i-amphtml-async-input");a.ea.onSubmitting();if(!a.R&&"GET"==a.L){Bc(a,"Non-XHR GETs not supported.");sc(a);if(0===f.length){for(d=0;d<e.length;d++)a.Da.expandInputValueSync(e[d]);Ec(a,!c);a.ea.onSubmitSuccess();return ka()}c&&c.preventDefault()}X(a,"submitting");var g=[],h=[];h.push(Fc(a,e));G(f,function(k){var l=
Gc(a,k);k.classList.contains("i-async-require-action")?g.push(l):h.push(l)});return Promise.all(g).then(function(){return xc(a,h,1E4).then(function(){if(a.R)var k=Hc(a,b);else"POST"==a.L?t(!1,"Only XHR based (via action-xhr attribute) submissions are supported for POST requests. %s",a.h):"GET"==a.L&&Ec(a,!0),k=ka();return k},function(k){return Ic(a,k,b)})},function(k){return Ic(a,k,b)})}function Ic(a,b,c){var d={};b&&b.message&&(d.error=b.message);return Jc(a,b,d,c)}
function Dc(a){return a.h.querySelectorAll('[type="hidden"][data-amp-replace]')}function pc(a){if("submitting"===a.M)return ka();X(a,"verifying");zc(a,"verify",null,3);return Fc(a,Dc(a)).then(function(){return Kc(a)})}function Hc(a,b){if(a.X.isEnabled())var c=Lc(a,b);else Mc(a,b),c=a.fa(a.R,a.L).then(function(d){return Nc(a,d,b)},function(d){return Oc(a,d,b)});return c}
function Lc(a,b){var c=J(a.h);return Y(a,c).then(function(){return a.U.trigger(a.h,"submit",null,b)}).then(function(){var d=a.requestForFormFetch(a.R,a.L),e=d.fetchOpt||{};var f=e.method;void 0===f?f="GET":(f=f.toUpperCase(),Ib.includes(f));e.method=f;e.headers=e.headers||F({});d.fetchOpt=e;f=d.xhrUrl;e=(e=d.fetchOpt)||{};var g=a.j;g=g.origin||P(g.location.href).origin;f=P(f).origin;g==f&&(e.headers=e.headers||{},e.headers["AMP-Same-Origin"]="true");d.fetchOpt=e;f=a.j;e=d.xhrUrl;if(!1!==d.fetchOpt.ampCors){g=
P(e);g=na(g.search);t(!("__amp_source_origin"in g),"Source origin is not allowed in %s",e);f=f.location.href;"string"==typeof f&&(f=P(f));if(Hb(f)){g=f.pathname.split("/");t(xb[g[1]],"Unknown path prefix in url %s",f.href);var h=g[2],k="s"==h?"https://"+decodeURIComponent(g[3]):"http://"+decodeURIComponent(h);t(0<k.indexOf("."),"Expected a . in origin %s",k);g.splice(1,"s"==h?3:2);g=k+g.join("/");h=(h=f.search)&&"?"!=h?(h=h.replace(Ab,"").replace(Bb,"").replace(Cb,"").replace(Db,"").replace(Eb,"").replace(/^[?&]/,
""))?"?"+h:"":"";f=g+h+(f.hash||"")}else f=f.href;f=P(f).origin;f=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(f);e=Fb(e,f,void 0)}d.xhrUrl=e;e=a.X;f=e.ssr;g=a.h;var l;(h=a.h.querySelector("[submit-success]"))&&(l=a.F.maybeFindTemplate(h));var n;(h=a.h.querySelector("[submit-error]"))&&(n=a.F.maybeFindTemplate(h));return f.call(e,g,d,{successTemplate:l,errorTemplate:n})}).then(function(d){return Pc(a,d,b)},function(d){var e={};d&&d.message&&(e.error=d.message);return Jc(a,d,e,
b)})}function Pc(a,b,c){var d=b.init,e=kc(b.body,function(f){return r().error("amp-form","Failed to parse response JSON: %s",f)});return d&&(d=d.status,300<=d)?Jc(a,d,b,c,e):Qc(a,b,c,e)}function Mc(a,b){Ac(a,"amp-form-submit");var c=J(a.h);Y(a,c).then(function(){a.U.trigger(a.h,"submit",null,b)})}function Fc(a,b){for(var c=[],d=0;d<b.length;d++)c.push(a.Da.expandInputValueAsync(b[d]));return xc(a,c,100)}
function Gc(a,b){return b.getImpl().then(function(c){return c.getValue()}).then(function(c){var d=b.getAttribute("name");d=a.h.querySelector("input[name="+String(d).replace(Ea,Fa)+"]");if(!d){d=F({name:b.getAttribute("name"),hidden:"true"});var e=a.j.document.createElement("input"),f;for(f in d)e.setAttribute(f,d[f]);d=e}d.setAttribute("value",c);a.h.appendChild(d)})}
function Kc(a){var b=pa(a.h.querySelectorAll("["+"no-verify".replace(Ea,Fa)+"]")).map(function(d){return d.name||d.id}),c={};return a.fa(a.Xa,a.L,(c.__amp_form_verify=!0,c),b)}m.fa=function(a,b,c,d){Bc(this,"XHRs should be proxied.");a=this.requestForFormFetch(a,b,c,d);return this.ua.fetch(a.xhrUrl,a.fetchOpt)};
function Nc(a,b,c){return a.ua.xssiJson(b,a.getXssiPrefix()).then(function(d){return Qc(a,d,c)},function(d){return r().error("amp-form","Failed to parse response JSON: %s",d)}).then(function(){Ac(a,"amp-form-submit-success");Rc(a,b)})}function Qc(a,b,c,d){X(a,"submit-success");return wa(function(){Y(a,b||{}).then(function(){zc(a,"submit-success",void 0===d?b:d,c-1);a.ea.onSubmitSuccess()})})}
function Oc(a,b,c){return(b&&b.response?a.ua.xssiJson(b.response,a.getXssiPrefix()).catch(function(){return null}):Promise.resolve(null)).then(function(d){Jc(a,b,d,c);Ac(a,"amp-form-submit-error");Rc(a,b.response)})}function Jc(a,b,c,d,e){X(a,"submit-error");r().error("amp-form","Form submission failed: %s",b);return wa(function(){Y(a,c).then(function(){zc(a,"submit-error",void 0===e?c:e,d-1);a.ea.onSubmitError()})})}function Ec(a,b){Ac(a,"amp-form-submit");b&&a.h.submit();X(a,"initial")}
function Bc(a,b){var c=a.X.isEnabled();t(!1===c,"[amp-form]: viewerRenderTemplate | %s",b)}function sc(a){var b=a.h.querySelectorAll("input[type=password],input[type=file]");t(0==b.length,"input[type=password] or input[type=file] may only appear in form[method=post]")}function uc(a){void 0===Ob&&(Ob=!!a.j.document.createElement("input").checkValidity);if(Ob){var b=Sc(a.h);if(a.Ca)return a.$.report(),b}return!0}
function Rc(a,b){Bc(a,"Redirects not supported.");if(b&&b.headers){var c=b.headers.get("AMP-Redirect-To");if(c){t(!a.La,"Redirects not supported in AMP4Email.",a.h);t("_blank"!=a.Ra,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",a.h);try{var d=C(a.C,"url");d.assertAbsoluteHttpOrHttpsUrl(c);d.assertHttpsUrl(c,"AMP-Redirect-To","Url")}catch(e){t(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",
c)}x(a.C,"navigation").navigateTo(a.j,c,"AMP-Redirect-To")}}}function zc(a,b,c,d){c=Sa(a.j,"amp-form."+b,F({response:c}));a.U.trigger(a.h,b,c,d)}function xc(a,b,c){return Promise.race([Promise.all(b),a.Sa.promise(c)])}
function X(a,b){var c=a.M;a.h.classList.remove("amp-form-"+c);a.h.classList.add("amp-form-"+b);var d=a.h.querySelector("["+c+"]");if(d){/^[\w-]+$/.test("i-amphtml-rendered");if(void 0!==Ga)var e=Ga;else{try{var f=d.ownerDocument,g=f.createElement("div"),h=f.createElement("div");g.appendChild(h);e=g.querySelector(":scope div")===h}catch(k){e=!1}e=Ga=e}e?d=d.querySelector("> [i-amphtml-rendered]".replace(/^|,/g,"$&:scope ")):(d.classList.add("i-amphtml-scoped"),e="> [i-amphtml-rendered]".replace(/^|,/g,
"$&.i-amphtml-scoped "),e=d.querySelectorAll(e),d.classList.remove("i-amphtml-scoped"),d=void 0===e[0]?null:e[0]);d&&d.parentElement&&d.parentElement.removeChild(d)}a.M=b}
function Y(a,b){Array.isArray(b)&&(b={},r().warn("amp-form","Unexpected data type: "+b+". Expected non JSON array."));var c=a.h.querySelector("["+a.M+"]"),d=ka();if(c){var e="rendered-message-"+a.pa;c.setAttribute("role","alert");c.setAttribute("aria-labeledby",e);c.setAttribute("aria-live","assertive");a.F.hasTemplate(c)?d=a.X.applySsrOrCsrTemplate(c,b).then(function(f){if(Array.isArray(f))if(1===f.length)var g=f[0];else g=document.createElement("div"),f.forEach(function(h){return g.appendChild(h)});
else g=f;g.id=e;g.setAttribute("i-amphtml-rendered","");return a.xa.mutateElement(c,function(){c.appendChild(g);var h=Sa(a.j,"amp:dom-update",null,{bubbles:!0});c.dispatchEvent(h)})}):a.xa.mutateElement(c,function(){})}return d}
function rc(a){if(!Hb(a.j.location)&&a.h.hasAttribute("data-initialize-from-url")){var b=["SELECT","TEXTAREA"],c="color date datetime-local email hidden month number range search tel text time url week".split(" "),d=["checkbox","radio"],e=function(g,h){if(!g.hasAttribute("data-amp-replace")&&g.hasAttribute("data-allow-initialization")){h=f[h]||"";var k=g.getAttribute("type")||"text",l=g.tagName;"INPUT"===l?c.includes(k.toLocaleLowerCase())?g.value!==h&&(g.value=h):d.includes(k)&&(h=g.value===h,g.checked!==
h&&(g.checked=h)):b.includes(l)&&g.value!==h&&(g.value=h)}},f=na(a.j.location.search);Object.keys(f).forEach(function(g){var h=a.h.elements[g];h&&(h.nodeType===Node.ELEMENT_NODE?e(h,g):h.length&&G(h,function(k){return e(k,g)}))})}}m.Ya=function(){return this.Oa};m.$a=function(){return this.Wa};function Sc(a){var b=a.querySelectorAll("input,select,textarea,fieldset");G(b,function(c){return Z(c)});return Z(a)}
function Cc(a){var b=document.createElement("input"),c={},d;for(d in b.validity){c.ca=d;var e=a.querySelectorAll("."+String(c.ca).replace(Ea,Fa));G(e,function(f){return function(g){g.classList.remove(f.ca)}}(c));c={ca:c.ca}}}
function Z(a,b){var c=b=void 0===b?!1:b;if(!a.checkValidity)return!0;var d=!1;var e=a.classList.contains("user-valid")?"valid":a.classList.contains("user-invalid")?"invalid":"none";var f=a.checkValidity();"valid"!=e&&f?(a.classList.add("user-valid"),a.classList.remove("user-invalid"),d="invalid"==e):"invalid"==e||f||(a.classList.add("user-invalid"),a.classList.remove("user-valid"),d=!0);if(a.validity)for(var g in a.validity)a.classList.toggle(g,a.validity[g]);if(c&&d){e=Ka(a);for(g=0;g<e.length;g++)Z(e[g]);
a.form&&Z(a.form)}return f}function yc(a){Z(a,!0)}function Tc(a){this.Va=Uc(a).then(function(){return Vc(a)})}Tc.prototype.whenInitialized=function(){return this.Va};function Uc(a){var b=new va;dc(a,b.resolve);return b.promise}function Vc(a){return a.whenReady().then(function(){var b=a.getRootNode();Wc(b.querySelectorAll("form"));bb(a);Xc(b);Yc(b)})}function Wc(a){a&&G(a,function(b,c){b.__AMP_FORM||new mc(b,"amp-form-"+c)})}
function Xc(a){a.addEventListener("amp:dom-update",function(){Wc(a.querySelectorAll("form"))})}function Yc(a){a.addEventListener("keydown",function(b){if(!b.defaultPrevented&&"Enter"==b.key&&(b.ctrlKey||b.metaKey)&&"TEXTAREA"===b.target.tagName){var c=b.target.form,d=c?c.__AMP_FORM||null:null;d&&(d.wa(b),b.preventDefault())}})}(function(a){a.registerServiceForDoc("form-submit-service",vb);a.registerServiceForDoc("amp-form",Tc)})(self.AMP);
})});

//# sourceMappingURL=amp-form-0.1.js.map

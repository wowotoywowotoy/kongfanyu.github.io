!function(c){function e(){}function h(f){function d(a){a.prototype.option||(a.prototype.option=function(a){f.isPlainObject(a)&&(this.options=f.extend(!0,this.options,a))})}function a(a,d){f.fn[a]=function(c){if("string"==typeof c){for(var e=b.call(arguments,1),g=0,m=this.length;m>g;g++){var k=f.data(this[g],a);if(k)if(f.isFunction(k[c])&&"_"!==c.charAt(0)){if(k=k[c].apply(k,e),void 0!==k)return k}else l("no such method '"+c+"' for "+a+" instance");else l("cannot call methods on "+a+" prior to initialization; attempted to call '"+
c+"'")}return this}return this.each(function(){var g=f.data(this,a);g?(g.option(c),g._init()):(g=new d(this,c),f.data(this,a,g))})}}if(f){var l="undefined"==typeof console?e:function(a){console.error(a)};return f.bridget=function(l,b){d(b);a(l,b)},f.bridget}}var b=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],h):h("object"==typeof exports?require("jquery"):c.jQuery)}(window);
(function(c){function e(b){var a=c.event;return a.target=a.target||a.srcElement||b,a}var h=document.documentElement,b=function(){};h.addEventListener?b=function(b,a,l){b.addEventListener(a,l,!1)}:h.attachEvent&&(b=function(b,a,l){b[a+l]=l.handleEvent?function(){var a=e(b);l.handleEvent.call(l,a)}:function(){var a=e(b);l.call(b,a)};b.attachEvent("on"+a,b[a+l])});var f=function(){};h.removeEventListener?f=function(b,a,l){b.removeEventListener(a,l,!1)}:h.detachEvent&&(f=function(b,a,l){b.detachEvent("on"+
a,b[a+l]);try{delete b[a+l]}catch(p){b[a+l]=void 0}});h={bind:b,unbind:f};"function"==typeof define&&define.amd?define("eventie/eventie",h):"object"==typeof exports?module.exports=h:c.eventie=h})(window);
(function(){function c(){}function e(a,l){for(var b=a.length;b--;)if(a[b].listener===l)return b;return-1}function h(a){return function(){return this[a].apply(this,arguments)}}var b=c.prototype,f=this,d=f.EventEmitter;b.getListeners=function(a){var l,b,c=this._getEvents();if(a instanceof RegExp)for(b in l={},c)c.hasOwnProperty(b)&&a.test(b)&&(l[b]=c[b]);else l=c[a]||(c[a]=[]);return l};b.flattenListeners=function(a){var l,b=[];for(l=0;l<a.length;l+=1)b.push(a[l].listener);return b};b.getListenersAsObject=
function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c};b.addListener=function(a,b){var c,d=this.getListenersAsObject(a),f="object"==typeof b;for(c in d)d.hasOwnProperty(c)&&-1===e(d[c],b)&&d[c].push(f?b:{listener:b,once:!1});return this};b.on=h("addListener");b.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};b.once=h("addOnceListener");b.defineEvent=function(a){return this.getListeners(a),this};b.defineEvents=function(a){for(var b=0;b<
a.length;b+=1)this.defineEvent(a[b]);return this};b.removeListener=function(a,b){var c,d,f=this.getListenersAsObject(a);for(d in f)f.hasOwnProperty(d)&&(c=e(f[d],b),-1!==c&&f[d].splice(c,1));return this};b.off=h("removeListener");b.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};b.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};b.manipulateListeners=function(a,b,c){var d,f,e=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;
if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)e.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(f=b[d])&&("function"==typeof f?e.call(this,d,f):a.call(this,d,f));return this};b.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this};b.removeAllListeners=h("removeEvent");b.emitEvent=function(a,b){var c,d,f,e,g=this.getListenersAsObject(a);
for(f in g)if(g.hasOwnProperty(f))for(d=g[f].length;d--;)c=g[f][d],!0===c.once&&this.removeListener(a,c.listener),e=c.listener.apply(this,b||[]),e===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this};b.trigger=h("emitEvent");b.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:
!0};b._getEvents=function(){return this._events||(this._events={})};c.noConflict=function(){return f.EventEmitter=d,c};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return c}):"object"==typeof module&&module.exports?module.exports=c:f.EventEmitter=c}).call(this);
(function(c){function e(c){if(c){if("string"==typeof b[c])return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var d,a=0,l=h.length;l>a;a++)if(d=h[a]+c,"string"==typeof b[d])return d}}var h=["Webkit","Moz","ms","Ms","O"],b=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:c.getStyleProperty=e})(window);
(function(c){function e(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function h(){}function b(a){function b(){if(!n){n=!0;var g=c.getComputedStyle;if(p=function(){var a=g?function(a){return g(a,null)}:function(a){return a.currentStyle};return function(g){g=a(g);return g||f("Style returned "+g+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),g}}(),h=a("boxSizing")){var m=document.createElement("div");m.style.width="200px";m.style.padding=
"1px 2px 3px 4px";m.style.borderStyle="solid";m.style.borderWidth="1px 2px 3px 4px";m.style[h]="border-box";var k=document.body||document.documentElement;k.appendChild(m);var d=p(m);r=200===e(d.width);k.removeChild(m)}}}var p,h,r,n=!1;return function(a){if(b(),"string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var m=p(a);if("none"===m.display){for(var k={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},m=0,f=d.length;f>m;m++)k[d[m]]=0;return k}k=
{};k.width=a.offsetWidth;k.height=a.offsetHeight;for(var f=k.isBorderBox=!(!h||!m[h]||"border-box"!==m[h]),t=0,z=d.length;z>t;t++){var w=d[t],q=m[w];var u=a,n=q;if(c.getComputedStyle||-1===n.indexOf("%"))q=n;else var q=u.style,B=q.left,x=u.runtimeStyle,A=x&&x.left,q=(A&&(x.left=u.currentStyle.left),q.left=n,n=q.pixelLeft,q.left=B,A&&(x.left=A),n);u=parseFloat(q);k[w]=isNaN(u)?0:u}a=k.paddingLeft+k.paddingRight;t=k.paddingTop+k.paddingBottom;z=k.marginLeft+k.marginRight;w=k.marginTop+k.marginBottom;
u=k.borderLeftWidth+k.borderRightWidth;n=k.borderTopWidth+k.borderBottomWidth;f=f&&r;q=e(m.width);!1!==q&&(k.width=q+(f?0:a+u));m=e(m.height);return!1!==m&&(k.height=m+(f?0:t+n)),k.innerWidth=k.width-(a+u),k.innerHeight=k.height-(t+n),k.outerWidth=k.width+z,k.outerHeight=k.height+w,k}}}var f="undefined"==typeof console?h:function(a){console.error(a)},d="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");
"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],b):"object"==typeof exports?module.exports=b(require("desandro-get-style-property")):c.getSize=b(c.getStyleProperty)})(window);
(function(c){function e(b){"function"==typeof b&&(e.isReady?b():a.push(b))}function h(a){a="readystatechange"===a.type&&"complete"!==d.readyState;e.isReady||a||b()}function b(){e.isReady=!0;for(var b=0,c=a.length;c>b;b++)(0,a[b])()}function f(a){return"complete"===d.readyState?b():(a.bind(d,"DOMContentLoaded",h),a.bind(d,"readystatechange",h),a.bind(c,"load",h)),e}var d=c.document,a=[];e.isReady=!1;"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],f):"object"==
typeof exports?module.exports=f(require("eventie")):c.docReady=f(c.eventie)})(window);
(function(c){function e(a,b){return a[d](b)}function h(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,f=c.length;f>d;d++)if(c[d]===a)return!0;return!1}function b(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);return e(a,b)}var f,d=function(){if(c.matches)return"matches";if(c.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],b=0,d=a.length;d>b;b++){var f=a[b]+"MatchesSelector";if(c[f])return f}}();
if(d){var a=document.createElement("div");f=e(a,"div")?e:b}else f=h;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return f}):"object"==typeof exports?module.exports=f:window.matchesSelector=f})(Element.prototype);
(function(c,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(h,b){return e(c,h,b)}):"object"==typeof exports?module.exports=e(c,require("doc-ready"),require("desandro-matches-selector")):c.fizzyUIUtils=e(c,c.docReady,c.matchesSelector)})(window,function(c,e,h){var b={extend:function(a,b){for(var c in b)a[c]=b[c];return a},modulo:function(a,b){return(a%b+b)%b}},f=Object.prototype.toString;b.isArray=function(a){return"[object Array]"==
f.call(a)};b.makeArray=function(a){var c=[];if(b.isArray(a))c=a;else if(a&&"number"==typeof a.length)for(var d=0,f=a.length;f>d;d++)c.push(a[d]);else c.push(a);return c};b.indexOf=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};b.removeFrom=function(a,c){var d=b.indexOf(a,c);-1!=d&&a.splice(d,1)};b.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:
function(a){return a&&"object"==typeof a&&1==a.nodeType&&"string"==typeof a.nodeName};b.setText=function(){var a;return function(b,c){a=a||(void 0!==document.documentElement.textContent?"textContent":"innerText");b[a]=c}}();b.getParent=function(a,b){for(;a!=document.body;)if(a=a.parentNode,h(a,b))return a};b.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a};b.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};b.filterFindElements=function(a,c){a=b.makeArray(a);
for(var d=[],f=0,e=a.length;e>f;f++){var n=a[f];if(b.isElement(n))if(c){h(n,c)&&d.push(n);for(var n=n.querySelectorAll(c),g=0,m=n.length;m>g;g++)d.push(n[g])}else d.push(n)}return d};b.debounceMethod=function(a,b,c){var d=a.prototype[b],f=b+"Timeout";a.prototype[b]=function(){var a=this[f];a&&clearTimeout(a);var b=arguments,m=this;this[f]=setTimeout(function(){d.apply(m,b);delete m[f]},c||100)}};b.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};
var d=c.console;return b.htmlInit=function(a,f){e(function(){for(var e=b.toDashed(f),h=document.querySelectorAll(".js-"+e),e="data-"+e+"-options",r=0,n=h.length;n>r;r++){var g,m=h[r],k=m.getAttribute(e);try{g=k&&JSON.parse(k)}catch(y){d&&d.error("Error parsing "+e+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+y);continue}var k=new a(m,g),t=c.jQuery;t&&t.data(m,f,k)}})},b});
(function(c,e){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(h,b,f,d){return e(c,h,b,f,d)}):"object"==typeof exports?module.exports=e(c,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(c.Outlayer={},c.Outlayer.Item=e(c,c.EventEmitter,c.getSize,c.getStyleProperty,c.fizzyUIUtils))})(window,function(c,
e,h,b,f){function d(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var a=c.getComputedStyle,l=a?function(b){return a(b,null)}:function(a){return a.currentStyle},p=b("transition");c=b("transform");c=p&&c;var v=!!b("perspective"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[p],n=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var a={},g=0,c=n.length;c>
g;g++){var d=n[g],k=b(d);k&&k!==d&&(a[d]=k)}return a}();f.extend(d.prototype,e.prototype);d.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};d.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)};d.prototype.getSize=function(){this.size=h(this.element)};d.prototype.css=function(a){var b=this.element.style,c;for(c in a)b[g[c]||c]=a[c]};d.prototype.getPosition=function(){var a=l(this.element),b=this.layout.options,g=
b.isOriginLeft,b=b.isOriginTop,c=a[g?"left":"right"],d=a[b?"top":"bottom"],a=this.layout.size,c=-1!=c.indexOf("%")?parseFloat(c)/100*a.width:parseInt(c,10),d=-1!=d.indexOf("%")?parseFloat(d)/100*a.height:parseInt(d,10),c=isNaN(c)?0:c,d=isNaN(d)?0:d,c=c-(g?a.paddingLeft:a.paddingRight),d=d-(b?a.paddingTop:a.paddingBottom);this.position.x=c;this.position.y=d};d.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,g={},c=b.isOriginLeft?"right":"left";g[b.isOriginLeft?"left":
"right"]=this.getXValue(this.position.x+a[b.isOriginLeft?"paddingLeft":"paddingRight"]);g[c]="";c=b.isOriginTop?"bottom":"top";g[b.isOriginTop?"top":"bottom"]=this.getYValue(this.position.y+a[b.isOriginTop?"paddingTop":"paddingBottom"]);g[c]="";this.css(g);this.emitEvent("layout",[this])};d.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?a/this.layout.size.width*100+"%":a+"px"};d.prototype.getYValue=function(a){var b=this.layout.options;return b.percentPosition&&
b.isHorizontal?a/this.layout.size.height*100+"%":a+"px"};d.prototype._transitionTo=function(a,b){this.getPosition();var g=this.position.x,c=this.position.y,d=parseInt(a,10),k=parseInt(b,10),d=d===this.position.x&&k===this.position.y;if(this.setPosition(a,b),d&&!this.isTransitioning)return void this.layoutPosition();d={};d.transform=this.getTranslate(a-g,b-c);this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};d.prototype.getTranslate=function(a,b){var g=this.layout.options;
return a=g.isOriginLeft?a:-a,b=g.isOriginTop?b:-b,v?"translate3d("+a+"px, "+b+"px, 0)":"translate("+a+"px, "+b+"px)"};d.prototype.goTo=function(a,b){this.setPosition(a,b);this.layoutPosition()};d.prototype.moveTo=c?d.prototype._transitionTo:d.prototype.goTo;d.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10);this.position.y=parseInt(b,10)};d.prototype._nonTransition=function(a){this.css(a.to);a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)};
d.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn,g;for(g in a.onTransitionEnd)b.onEnd[g]=a.onTransitionEnd[g];for(g in a.to)b.ingProperties[g]=!0,a.isCleaning&&(b.clean[g]=!0);a.from&&this.css(a.from);this.enableTransition(a.to);this.css(a.to);this.isTransitioning=!0};var m="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(g.transform||"transform");d.prototype.enableTransition=
function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(r,this,!1))};d.prototype.transition=d.prototype[p?"_transition":"_nonTransition"];d.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};d.prototype.onotransitionend=function(a){this.ontransitionend(a)};var k={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};d.prototype.ontransitionend=function(a){if(a.target===
this.element){var b=this._transn,g=k[a.propertyName]||a.propertyName;delete b.ingProperties[g];var c;a:{c=b.ingProperties;for(var d in c){c=!1;break a}c=!0}if(c&&this.disableTransition(),g in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[g]),g in b.onEnd)b.onEnd[g].call(this),delete b.onEnd[g];this.emitEvent("transitionEnd",[this])}};d.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(r,this,!1);this.isTransitioning=!1};d.prototype._removeStyles=
function(a){var b={},g;for(g in a)b[g]="";this.css(b)};var y={transitionProperty:"",transitionDuration:""};return d.prototype.removeTransitionStyles=function(){this.css(y)},d.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])},d.prototype.remove=function(){if(!p||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.once("transitionEnd",function(){a.removeElem()});this.hide()},
d.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var a=this.layout.options,b={},g=this.getHideRevealTransitionEndProperty("visibleStyle");b[g]=this.onRevealTransitionEnd;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},d.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.prototype.getHideRevealTransitionEndProperty=function(a){a=this.layout.options[a];if(a.opacity)return"opacity";for(var b in a)return b},
d.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var a=this.layout.options,b={},g=this.getHideRevealTransitionEndProperty("hiddenStyle");b[g]=this.onHideTransitionEnd;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},d.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},
d});
(function(c,e){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(h,b,f,d,a){return e(c,h,b,f,d,a)}):"object"==typeof exports?module.exports=e(c,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):c.Outlayer=e(c,c.eventie,c.EventEmitter,c.getSize,c.fizzyUIUtils,c.Outlayer.Item)})(window,function(c,e,h,b,f,d){function a(a,b){var c=
f.getQueryElement(a);if(!c)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c;p&&(this.$element=p(this.element));this.options=f.extend({},this.constructor.defaults);this.option(b);c=++r;this.element.outlayerGUID=c;n[c]=this;this._create();this.options.isInitLayout&&this.layout()}var l=c.console,p=c.jQuery,v=function(){},r=0,n={};return a.namespace="outlayer",a.Item=d,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,
isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},f.extend(a.prototype,h.prototype),a.prototype.option=function(a){f.extend(this.options,a)},a.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);f.extend(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},
a.prototype._itemize=function(a){a=this._filterFindItemElements(a);for(var b=this.constructor.Item,c=[],d=0,f=a.length;f>d;d++){var e=new b(a[d],this);c.push(e)}return c},a.prototype._filterFindItemElements=function(a){return f.filterFindElements(a,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},a.prototype.layout=function(){this._resetLayout();this._manageStamps();this.layoutItems(this.items,void 0!==
this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited);this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=b(this.element)},a.prototype._getMeasurement=function(a,c){var d,e=this.options[a];e?("string"==typeof e?d=this.element.querySelector(e):f.isElement(e)&&(d=e),this[a]=d?b(d)[c]:e):this[a]=0},a.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a);this._layoutItems(a,
b);this._postLayout()},a.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var f=a[c];f.isIgnored||b.push(f)}return b},a.prototype._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){for(var c=[],d=0,f=a.length;f>d;d++){var e=a[d],h=this._getItemLayoutPosition(e);h.item=e;h.isInstant=b||e.isLayoutInstant;c.push(h)}this._processLayoutQueue(c)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(a){for(var b=
0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},a.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},a.prototype._getContainerSize=v,a.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=
this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth);a=Math.max(a,0);this.element.style[b?"width":"height"]=a+"px"}},a.prototype._emitCompleteOnItems=function(a,b){function c(){f.dispatchEvent(a+"Complete",null,[b])}function d(){h++;h===e&&c()}var f=this,e=b.length;if(!b||!e)return void c();for(var h=0,l=0,n=b.length;n>l;l++)b[l].once(a,d)},a.prototype.dispatchEvent=function(a,b,c){var d=
b?[b].concat(c):c;if(this.emitEvent(a,d),p)(this.$element=this.$element||p(this.element),b)?(b=p.Event(b),b.type=a,this.$element.trigger(b,c)):this.$element.trigger(a,c)},a.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},a.prototype.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored},a.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++)this.ignore(a[b])}},a.prototype.unstamp=function(a){if(a=this._find(a))for(var b=
0,c=a.length;c>b;b++){var d=a[b];f.removeFrom(this.stamps,d);this.unignore(d)}},a.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),f.makeArray(a)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++)this._manageStamp(this.stamps[a])}},a.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+
b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},a.prototype._manageStamp=v,a.prototype._getElementOffset=function(a){var c=a.getBoundingClientRect(),d=this._boundingRect;a=b(a);return{left:c.left-d.left-a.marginLeft,top:c.top-d.top-a.marginTop,right:d.right-c.right-a.marginRight,bottom:d.bottom-c.bottom-a.marginBottom}},a.prototype.handleEvent=function(a){var b="on"+a.type;
this[b]&&this[b](a)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(c,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(c,"resize",this);this.isResizeBound=!1},a.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;this.resizeTimeout=setTimeout(function(){a.resize();delete a.resizeTimeout},100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=
function(){var a=b(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(a){a=this._itemize(a);return a.length&&(this.items=this.items.concat(a)),a},a.prototype.appended=function(a){a=this.addItems(a);a.length&&(this.layoutItems(a,!0),this.reveal(a))},a.prototype.prepended=function(a){a=this._itemize(a);if(a.length){var b=this.items.slice(0);this.items=a.concat(b);this._resetLayout();this._manageStamps();this.layoutItems(a,!0);this.reveal(a);this.layoutItems(b)}},
a.prototype.reveal=function(a){this._emitCompleteOnItems("reveal",a);for(var b=a&&a.length,c=0;b&&b>c;c++)a[c].reveal()},a.prototype.hide=function(a){this._emitCompleteOnItems("hide",a);for(var b=a&&a.length,c=0;b&&b>c;c++)a[c].hide()},a.prototype.revealItemElements=function(a){a=this.getItems(a);this.reveal(a)},a.prototype.hideItemElements=function(a){a=this.getItems(a);this.hide(a)},a.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},
a.prototype.getItems=function(a){a=f.makeArray(a);for(var b=[],c=0,d=a.length;d>c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b},a.prototype.remove=function(a){a=this.getItems(a);if(this._emitCompleteOnItems("remove",a),a&&a.length)for(var b=0,c=a.length;c>b;b++){var d=a[b];d.remove();f.removeFrom(this.items,d)}},a.prototype.destroy=function(){var a=this.element.style;a.height="";a.position="";a.width="";for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize();delete n[this.element.outlayerGUID];
delete this.element.outlayerGUID;p&&p.removeData(this.element,this.constructor.namespace)},a.data=function(a){return(a=(a=f.getQueryElement(a))&&a.outlayerGUID)&&n[a]},a.create=function(b,c){function e(){a.apply(this,arguments)}return Object.create?e.prototype=Object.create(a.prototype):f.extend(e.prototype,a.prototype),e.prototype.constructor=e,e.defaults=f.extend({},a.defaults),f.extend(e.defaults,c),e.prototype.settings={},e.namespace=b,e.data=a.data,e.Item=function(){d.apply(this,arguments)},
e.Item.prototype=new d,f.htmlInit(e,b),p&&p.bridget&&p.bridget(b,e),e},a.Item=d,a});
(function(c,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):c.Masonry=e(c.Outlayer,c.getSize,c.fizzyUIUtils)})(window,function(c,e,h){c=c.create("masonry");return c.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();
var b=this.cols;for(this.colYs=[];b--;)this.colYs.push(0);this.maxY=0},c.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var b=this.items[0];this.columnWidth=(b=b&&b.element)&&e(b).outerWidth||this.containerWidth}var b=this.columnWidth+=this.gutter,c=this.containerWidth+this.gutter,d=b-c%b,b=Math[d&&1>d?"round":"floor"](c/b);this.cols=Math.max(b,1)},c.prototype.getContainerWidth=function(){var b=e(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=
b&&b.innerWidth},c.prototype._getItemLayoutPosition=function(b){b.getSize();var c=b.size.outerWidth%this.columnWidth,c=Math[c&&1>c?"round":"ceil"](b.size.outerWidth/this.columnWidth),c=Math.min(c,this.cols),d=this._getColGroup(c),a=Math.min.apply(Math,d),c=h.indexOf(d,a),e={x:this.columnWidth*c,y:a};b=a+b.size.outerHeight;d=this.cols+1-d.length;for(a=0;d>a;a++)this.colYs[c+a]=b;return e},c.prototype._getColGroup=function(b){if(2>b)return this.colYs;for(var c=[],d=this.cols+1-b,a=0;d>a;a++){var e=
this.colYs.slice(a,a+b);c[a]=Math.max.apply(Math,e)}return c},c.prototype._manageStamp=function(b){var c=e(b),d=this._getElementOffset(b);b=this.options.isOriginLeft?d.left:d.right;var a=b+c.outerWidth,h=Math.floor(b/this.columnWidth),h=Math.max(0,h);b=Math.floor(a/this.columnWidth);b-=a%this.columnWidth?0:1;b=Math.min(this.cols-1,b);c=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight;for(d=h;b>=d;d++)this.colYs[d]=Math.max(c,this.colYs[d])},c.prototype._getContainerSize=function(){this.maxY=
Math.max.apply(Math,this.colYs);var b={height:this.maxY};return this.options.isFitWidth&&(b.width=this._getContainerFitWidth()),b},c.prototype._getContainerFitWidth=function(){for(var b=0,c=this.cols;--c&&0===this.colYs[c];)b++;return(this.cols-b)*this.columnWidth-this.gutter},c.prototype.needsResizeLayout=function(){var b=this.containerWidth;return this.getContainerWidth(),b!==this.containerWidth},c});

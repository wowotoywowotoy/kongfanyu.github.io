(function(){function f(){}function h(a,c){for(var d=a.length;d--;)if(a[d].listener===c)return d;return-1}function e(a){return function(){return this[a].apply(this,arguments)}}var b=f.prototype,l=this,g=l.EventEmitter;b.getListeners=function(a){var c,d,k=this._getEvents();if("object"==typeof a)for(d in c={},k)k.hasOwnProperty(d)&&a.test(d)&&(c[d]=k[d]);else c=k[a]||(k[a]=[]);return c};b.flattenListeners=function(a){var c,d=[];for(c=0;a.length>c;c+=1)d.push(a[c].listener);return d};b.getListenersAsObject=
function(a){var c,d=this.getListeners(a);return d instanceof Array&&(c={},c[a]=d),c||d};b.addListener=function(a,c){var d,k=this.getListenersAsObject(a),b="object"==typeof c;for(d in k)k.hasOwnProperty(d)&&-1===h(k[d],c)&&k[d].push(b?c:{listener:c,once:!1});return this};b.on=e("addListener");b.addOnceListener=function(a,c){return this.addListener(a,{listener:c,once:!0})};b.once=e("addOnceListener");b.defineEvent=function(a){return this.getListeners(a),this};b.defineEvents=function(a){for(var c=0;a.length>
c;c+=1)this.defineEvent(a[c]);return this};b.removeListener=function(a,c){var d,k,b=this.getListenersAsObject(a);for(k in b)b.hasOwnProperty(k)&&(d=h(b[k],c),-1!==d&&b[k].splice(d,1));return this};b.off=e("removeListener");b.addListeners=function(a,c){return this.manipulateListeners(!1,a,c)};b.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};b.manipulateListeners=function(a,c,d){var b,g,e=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=
typeof c||c instanceof RegExp)for(b=d.length;b--;)e.call(this,c,d[b]);else for(b in c)c.hasOwnProperty(b)&&(g=c[b])&&("function"==typeof g?e.call(this,b,g):a.call(this,b,g));return this};b.removeEvent=function(a){var c,d=typeof a,b=this._getEvents();if("string"===d)delete b[a];else if("object"===d)for(c in b)b.hasOwnProperty(c)&&a.test(c)&&delete b[c];else delete this._events;return this};b.removeAllListeners=e("removeEvent");b.emitEvent=function(a,c){var b,g,e,f,h=this.getListenersAsObject(a);for(e in h)if(h.hasOwnProperty(e))for(g=
h[e].length;g--;)b=h[e][g],!0===b.once&&this.removeListener(a,b.listener),f=b.listener.apply(this,c||[]),f===this._getOnceReturnValue()&&this.removeListener(a,b.listener);return this};b.trigger=e("emitEvent");b.emit=function(a){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,c)};b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};b._getEvents=function(){return this._events||
(this._events={})};f.noConflict=function(){return l.EventEmitter=g,f};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return f}):"object"==typeof module&&module.exports?module.exports=f:this.EventEmitter=f}).call(this);
(function(f){function h(b){var a=f.event;return a.target=a.target||a.srcElement||b,a}var e=document.documentElement,b=function(){};e.addEventListener?b=function(b,a,c){b.addEventListener(a,c,!1)}:e.attachEvent&&(b=function(b,a,c){b[a+c]=c.handleEvent?function(){var a=h(b);c.handleEvent.call(c,a)}:function(){var a=h(b);c.call(b,a)};b.attachEvent("on"+a,b[a+c])});var l=function(){};e.removeEventListener?l=function(b,a,c){b.removeEventListener(a,c,!1)}:e.detachEvent&&(l=function(b,a,c){b.detachEvent("on"+
a,b[a+c]);try{delete b[a+c]}catch(d){b[a+c]=void 0}});e={bind:b,unbind:l};"function"==typeof define&&define.amd?define("eventie/eventie",e):f.eventie=e})(this);
(function(f,h){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,b){return h(f,e,b)}):"object"==typeof exports?module.exports=h(f,require("wolfy87-eventemitter"),require("eventie")):f.imagesLoaded=h(f,f.EventEmitter,f.eventie)})(window,function(f,h,e){function b(b,a){for(var c in a)b[c]=a[c];return b}function l(b){var a=[];if("[object Array]"===p.call(b))a=b;else if("number"==typeof b.length)for(var c=0,d=b.length;d>c;c++)a.push(b[c]);else a.push(b);
return a}function g(a,c,e){if(!(this instanceof g))return new g(a,c);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=l(a);this.options=b({},this.options);"function"==typeof c?e=c:b(this.options,c);e&&this.on("always",e);this.getImages();d&&(this.jqDeferred=new d.Deferred);var f=this;setTimeout(function(){f.check()})}function a(a){this.img=a}function c(a){this.src=a;m[a]=this}var d=f.jQuery,k=f.console,n=void 0!==k,p=Object.prototype.toString;g.prototype=new h;g.prototype.options=
{};g.prototype.getImages=function(){this.images=[];for(var a=0,c=this.elements.length;c>a;a++){var b=this.elements[a];"IMG"===b.nodeName&&this.addImage(b);var d=b.nodeType;if(d&&(1===d||9===d||11===d))for(var b=b.querySelectorAll("img"),d=0,e=b.length;e>d;d++)this.addImage(b[d])}};g.prototype.addImage=function(b){b=new a(b);this.images.push(b)};g.prototype.check=function(){function b(e,q){return a.options.debug&&n&&k.log("confirm",e,q),a.progress(e),c++,c===d&&a.complete(),!0}var a=this,c=0,d=this.images.length;
if(this.hasAnyBroken=!1,!d)return this.complete(),void 0;for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",b);f.check()}};g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})};g.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var a=this;setTimeout(function(){if(a.emit(b,a),a.emit("always",a),a.jqDeferred)a.jqDeferred[a.hasAnyBroken?
"reject":"resolve"](a)})};d&&(d.fn.imagesLoaded=function(a,b){return(new g(this,a,b)).jqDeferred.promise(d(this))});a.prototype=new h;a.prototype.check=function(){var a=m[this.img.src]||new c(this.img.src);if(a.isConfirmed)return this.confirm(a.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0});a.check()};a.prototype.confirm=
function(a,b){this.isLoaded=a;this.emit("confirm",this,b)};var m={};return c.prototype=new h,c.prototype.check=function(){if(!this.isChecked){var a=new Image;e.bind(a,"load",this);e.bind(a,"error",this);a.src=this.src;this.isChecked=!0}},c.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.prototype.onload=function(a){this.confirm(!0,"onload");this.unbindProxyEvents(a)},c.prototype.onerror=function(a){this.confirm(!1,"onerror");this.unbindProxyEvents(a)},c.prototype.confirm=
function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)},c.prototype.unbindProxyEvents=function(a){e.unbind(a.target,"load",this);e.unbind(a.target,"error",this)},g});
